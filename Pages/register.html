<!DOCTYPE html>
<body onload="makeRequest();">
    <form method="post">
        <label for="name">Name: </label>
        <input type="text" id="name">
        <label for="name">Age: </label>
        <input type="text" id="age">
        <button onclick="doStuff()">Submit</button>
    </form>

    <script>
        var req;

        function makeRequest() {
        
            if (window.XMLHttpRequest) {
                req = new XMLHttpRequest();
            }
            else if (window.ActiveXObject) {
                req = new ActiveXObject("Msxml2.XMLHTTP");
            }
            else {
                // Ajax not supported
                return;
            }

            req.onreadystatechange = function() {
            
                var txt = "";
                
                if (this.readyState == 4 && this.status == 200) {
                    var response = this.responseText;
                    console.log (response);
                    document.getElementById("answer").innerHTML = response;
                }
            };

        }

        function doStuff(){
            inputName = document.getElementById("name").value;
            inputAge = document.getElementById("age").value;

            //req.open("POST", "/login?input1=" + inputName + "&input2=" + inputAge, true);
		    //req.send();
            var params = 'inputName=' + inputName + '&inputAge=' + inputAge;
		    req.open('POST', '/register?', true);
		    req.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
		    if(!((inputName == null) && (inputAge == null))){
                req.send(params);
            }
            
        }
        


    </script>
    <h1>Response</h1>

    <p id="answer">Server response will go here</p>
    <!-- <input type="text" id="name">
    <input type="text" id="age">
    <input type="button" onclick="doStuff()">Submit</input> -->
</body>
</html>